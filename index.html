<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Abroad Cell Form</title>

<link rel="stylesheet" href="style.css">

<!-- Local JS Libraries -->
<script src="html2canvas.min.js"></script>
<script src="jspdf.umd.min.js"></script>

</head>
<body>



<!-- <div class="form-container" id="formContent"> -->

    <button class="download-btn" onclick="downloadPDF()">DOWNLOAD PDF</button>


<div class="form-container" id="formContent">

    <!-- HEADER -->
    <div class="custom-header">
        <div class="header-bg">
            <div class="header-center">

                <div class="hindi-title">
                    ‡§∂‡§æ‡§Ç‡§§‡§ø‡§ï‡•Å‡§Ç‡§ú <span class="green-text">‡§π‡§∞‡§ø‡§¶‡•ç‡§µ‡§æ‡§∞</span>
                </div>

                <div class="abroad-logo">
                    <span class="broad">Abroad</span>
                    <span class="cell">Cell</span>
                    <span class="cell">Visitors</span>
                    <span class="cell">Form</span>
                </div>

            </div>
        </div>
    </div>

    <div class="fill-note">PLEASE FILL IN CAPITAL LETTERS</div>

    <!-- PERSONAL DETAILS -->
    <p class="section-title">PERSONAL DETAILS</p>

    <table>
        <tr><td>FULL NAME</td><td><input type="text" style="width:400px"></td></tr>
        <tr><td>DATE OF BIRTH</td><td><input type="date"></td></tr>
        <tr><td>DATE OF MARRIAGE</td><td><input type="date"></td></tr>
        <tr><td>ADDRESS</td><td><input type="text" style="width:400px"></td></tr>
        <tr><td>CITY</td><td><input class="small-input"> STATE <input class="small-input"></td></tr>
        <tr><td>ZIP CODE</td><td><input class="small-input"> COUNTRY <input class="small-input"></td></tr>
        <tr><td>TELEPHONE NO.</td><td><input class="small-input"> MOBILE NO.<input class="small-input"></td></tr>
        <tr><td>E-MAIL ID</td><td><input type="email" style="width:300px"></td></tr>
        <tr><td>QUALIFICATION</td><td><input class="small-input"> PROFESSION <input class="small-input"></td></tr>
        <tr><td>ASSOCIATED WITH AWGP SINCE</td><td><input class="small-input"></td></tr>
        <tr><td>PARTICIPATE IN ACTIVITY OF AWGP</td><td><input style="width:300px"></td></tr>
    </table>

    <!-- FAMILY DETAILS -->
    <p class="section-title">FAMILY DETAILS RESIDING IN THE ABOVE ADDRESS</p>

    <table class="responsive-table">
        <thead>
            <tr><th>NAME</th><th>DOB</th><th>RELATION</th><th>PROFESSION</th></tr>
        </thead>
        <tbody>
            <tr><td><input></td><td><input type="date"></td><td><input></td><td><input></td></tr>
            <tr><td><input></td><td><input type="date"></td><td><input></td><td><input></td></tr>
            <tr><td><input></td><td><input type="date"></td><td><input></td><td><input></td></tr>
            <tr><td><input></td><td><input type="date"></td><td><input></td><td><input></td></tr>
        </tbody>
    </table>

    <!-- RELATIVE DETAILS -->
    <p class="section-title">RELATIVE  IN OTHER COUNTRY</p>

    <table class="responsive-table">
        <thead><tr><th>NAME</th><th>RELATION</th><th>COUNTRY</th><th>E-MAIL ID</th></tr></thead>
        <tbody>
            <tr><td><input></td><td><input></td><td><input></td><td><input></td></tr>
            <tr><td><input></td><td><input></td><td><input></td><td><input></td></tr>
            <tr><td><input></td><td><input></td><td><input></td><td><input></td></tr>
            <tr><td><input></td><td><input></td><td><input></td><td><input></td></tr>
        </tbody>
    </table>

    <!-- MAGAZINES -->
    <p class="section-title">MAGAZINE SUBSCRIPTION DETAILS</p>

    <table>
        <tr><td>AKHAND JYOTI</td><td>HINDI <input type="radio"> ENGLISH <input type="radio"> BANGLA <input type="radio"> ODHIYA <input type="radio"> ASAMIYA <input type="radio"></td></tr>
        <tr><td>YUG SHAKTI GAYATRI</td><td>HINDI <input type="radio"> GUJRATI <input type="radio"> BANGLA <input type="radio"> ODHIYA <input type="radio"> MARATHI <input type="radio"></td></tr>
        <tr><td>PRAGYA ABHIYAN</td><td>HINDI <input type="radio"> GUJRATI <input type="radio"></td></tr>
        <tr><td>YUG PRABHA VIDEO</td><td>HINDI <input type="radio"></td></tr>
        <tr><td>YUG NIRMAN YOJNA</td><td>HINDI <input type="radio"> GUJRATI <input type="radio"></td></tr>
    </table>

    <table>
        <tr><td>PARIJAN STATUS <input type="checkbox"></td>
            <td>NEW <input type="checkbox"> KEY PERSON <input type="checkbox"> BSS <input type="checkbox"></td></tr>
    </table>

    <br><br>
    
    DATE: <input type="date">
    <div class="signature">SIGNATURE</div>

</div>

<!-- UNIVERSAL UPPERCASE SCRIPT -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll("input, textarea").forEach(el => {
        el.addEventListener("input", function () {
            this.value = this.value.toUpperCase();
        });
    });
});
</script>


<!-- FINAL PERFECT PDF SCRIPT -->
<!-- <script>
    async function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const element = document.getElementById("formContent");

    // üî• STEP 1 ‚Äî TEMPORARY SCALE FOR MOBILE (fits everything in canvas)
    element.style.transform = "scale(0.70)";
    element.style.transformOrigin = "top left";

    // wait for render
    await new Promise(r => setTimeout(r, 300));

    // üî• STEP 2 ‚Äî CAPTURE
    const canvas = await html2canvas(element, {
        scale: 2,
        useCORS: true,
        scrollX: 0,
        scrollY: 0,
        windowWidth: element.scrollWidth * 0.70
    });

    // RESET
    element.style.transform = "";
    element.style.transformOrigin = "";

    const imgData = canvas.toDataURL("image/png");

    const pdf = new jsPDF("p", "mm", "a4");
    const pageWidth = pdf.internal.pageSize.getWidth();
    const pageHeight = pdf.internal.pageSize.getHeight();

    // Fit entire scaled image inside 1 page
    pdf.addImage(imgData, "PNG", 0, 0, pageWidth, pageHeight);

    pdf.save("Abroad_Cell_Form.pdf");
}
 </script> -->
    
    <!-- <script>
async function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const element = document.getElementById("formContent");

    // TEMP: reduce size for perfect capture
    element.style.transform = "scale(0.92)";
    element.style.transformOrigin = "top left";

    await new Promise(res => setTimeout(res, 200));

    // Capture with lower scale
    const canvas = await html2canvas(element, {
        scale: 1.3,           // ‚Üì lower DPI = MUCH smaller PDF
        useCORS: true,
        scrollX: 0,
        scrollY: 0,
        windowWidth: element.scrollWidth * 0.92
    });

    // Reset form
    element.style.transform = "";
    element.style.transformOrigin = "";

    // Convert canvas to JPEG with compression
    const imgData = canvas.toDataURL("image/jpeg", 0.65);
    // 0.45 = 45% quality ‚Üí very small file

    const pdf = new jsPDF("p", "mm", "a4");
    const pageWidth = pdf.internal.pageSize.getWidth();
    const imgHeight = canvas.height * (pageWidth / canvas.width);

    pdf.addImage(imgData, "JPEG", 0, 0, pageWidth, imgHeight, undefined, "FAST");

    pdf.save("Abroad_Cell_Form.pdf");
}
</script> -->


    <!-- <script>
async function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const element = document.getElementById("formContent");

    // ‚ù§Ô∏è Keep original size
    const originalWidth = element.style.width;
    const originalMaxWidth = element.style.maxWidth;

    // üî• STEP 1: Make the form fit inside mobile screen
    element.style.width = "800px";
    element.style.maxWidth = "800px";
    element.style.transform = "scale(1)";
    element.style.transformOrigin = "top left";

    await new Promise(r => setTimeout(r, 200));

    // üî• STEP 2: Capture screenshot
    const canvas = await html2canvas(element, {
        scale: 1.4,          // Good clarity
        useCORS: true
    });

    // Restore original size
    element.style.width = originalWidth;
    element.style.maxWidth = originalMaxWidth;

    // üî• STEP 3: Compress image (keeps under 1MB)
    const imgData = canvas.toDataURL("image/jpeg", 0.65);

    const pdf = new jsPDF("p", "mm", "a4");
    const pageWidth = pdf.internal.pageSize.getWidth();
    const imgHeight = (canvas.height * pageWidth) / canvas.width;

    pdf.addImage(imgData, "JPEG", 0, 0, pageWidth, imgHeight);
    pdf.save("Abroad_Cell_Form.pdf");
}
</script> -->

    <script>
async function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const element = document.getElementById("formContent");

    const originalWidth = element.style.width;
    const originalMaxWidth = element.style.maxWidth;

    // SAFE WIDTH (prevents cutting on right
    element.style.width = "1000px";
    element.style.maxWidth = "1000px";

    await new Promise(r => setTimeout(r, 250));

    // increase scale for higher clarity (file size increases)
    const canvas = await html2canvas(element, {
        scale: 2.5,   // üíõ higher scale = sharper PDF (1‚Äì2MB)
        useCORS: true
    });

    // Restore original layout
    element.style.width = originalWidth;
    element.style.maxWidth = originalMaxWidth;

    // JPEG quality 0.90 ‚Üí larger but still <2MB
    const imgData = canvas.toDataURL("image/jpeg", 0.90);

    const pdf = new jsPDF("p", "mm", "a4");
    const pageWidth = pdf.internal.pageSize.getWidth();
    const imgHeight = (canvas.height * pageWidth) / canvas.width;

    pdf.addImage(imgData, "JPEG", 0, 0, pageWidth, imgHeight);
    pdf.save("Abroad_Cell_Form.pdf");
}
</script>


</body>
</html>













